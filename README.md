# CoreGuard Viewer

Interactive web-based visualization tool for comparing SNP calling pipelines.

## Live Demo

**[https://genpat-it.github.io/coreguard/](https://genpat-it.github.io/coreguard/)**

## Features

- **Multi-pipeline comparison**: Compare SNP calls from different pipelines (Snippy, CFSAN, GATK, etc.)
- **Ground truth support**: Designate a baseline alignment for gap detection
- **Interactive alignment view**: Navigate through genomic positions with zoom/pan
- **Smart filtering**: Filter by consensus, discordant calls, gaps, and pipeline-specific SNPs
- **Distance matrix**: Calculate pairwise SNP distances between samples
- **Client-side processing**: All analysis runs in your browser via WebAssembly

## Usage

1. Run `coreguard compare` to generate a JSON report from your VCF/BAM files
2. Open the [viewer](https://genpat-it.github.io/coreguard/)
3. Load your JSON report
4. Explore and compare pipeline results

## Input Format

The viewer accepts JSON reports generated by the CoreGuard CLI tool with the following structure:

```json
{
  "reference": { "name": "...", "length": 12345 },
  "samples": ["sample1", "sample2"],
  "pipelines": [
    { "id": "snippy", "label": "Snippy v4.6", "has_vcf": true },
    { "id": "mm2", "label": "Ground Truth", "ground_truth": true }
  ],
  "positions": [...]
}
```

## Technology

- **Frontend**: Vanilla JavaScript, HTML5 Canvas
- **Computation**: Rust compiled to WebAssembly
- **No server required**: Everything runs in the browser

## Citation

If you use CoreGuard in your research, please cite:

> De Ruvo A. et al. (2025). CoreGuard: A pipeline-agnostic SNP comparison framework.

## License

MIT License

## Author

Andrea De Ruvo - [IZSAM](https://www.izs.it/) / [GenPat-IT](https://github.com/genpat-it)
